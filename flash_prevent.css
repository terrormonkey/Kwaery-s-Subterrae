/* Ensure the page background is black immediately */
html:not([data-smart-dark-ready]) {
    background-color: #000000 !important;
    color-scheme: dark !important;
}

/* Hide the body content to prevent flash of unstyled content */
html:not([data-smart-dark-ready]) body {
    visibility: hidden !important;
    opacity: 0 !important;
}

/* Add a full-screen black overlay as a failsafe "curtain" */
html:not([data-smart-dark-ready])::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000000 !important;
    z-index: 2147483647; /* Max z-index */
    pointer-events: none;
    display: block;
}
